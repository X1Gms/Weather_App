<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="/styles/main.css">
</head>
<body>
    <section class="vh-100">
        <div class="container py-5 h-100">
      
          <div class="row d-flex justify-content-center align-items-center h-100">
            <div class="col-md-8 col-lg-6 col-xl-4">
      
              <h3 class="mb-4 pb-2 fw-normal">Escreva uma Cidade</h3>
      
              <form action="weather" method="post" id="myForm">
              <div class="input-group rounded mb-3">
                <input type="search" class="form-control rounded" name="city" placeholder="City" aria-label="Search"
                  aria-describedby="search-addon" value="<%if(locals.data){var dataj = JSON.parse(data)%><%=dataj.location.name%><%}%>" />
                <input type="submit" id="" class="input-group-text border-0 fw-bold" value="Check!">
              </div>

              <div class="mb-4 pb-2">
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="weather" id="inlineRadio1"
                    value="celsius" checked />
                  <label class="form-check-label">Celsius</label>
                </div>
      
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="weather" id="inlineRadio2"
                    value="fahrenheit" />
                  <label class="form-check-label">Fahrenheit</label>
                </div>
              </div>
            </form>
    
      
              <%if(locals.data && locals.units){%>
                <%var dataj = JSON.parse(data)%>
              <div class="card shadow-0 border">
                <%if(units === "celsius"){%>
                <div class="card-body p-4">
      
                  <h4 class="mb-1 sfw-normal"><%= dataj.location.name + ", " + dataj.location.country%></h4>
                  <p class="mb-2">Current temperature: <strong><%= dataj.current.temp_c %>ºC</strong></p>
                  <p>Localtime: <strong><%= dataj.location.localtime %></strong></p>
                  <p>Max: <strong><%= dataj.forecast.forecastday[0].day.maxtemp_c %>ºC</strong>, Min: <strong><%= dataj.forecast.forecastday[0].day.mintemp_c %>°C</strong></p>
                  <p>Wind: <strong><%= dataj.current.wind_kph %> km/h</strong></p>
                  <p>UV Index: <strong><%= dataj.current.uv %></strong></p>
      
                  <div class="d-flex flex-row align-items-center">
                    <p class="mb-0 me-4"><%= dataj.current.condition.text%></p>
                    <img src="<%= `https:${dataj.current.condition.icon}`%>"  alt="" class="icon">
                  </div>
      
                </div>
                <%}else{%>
                    <div class="card-body p-4">
      
                        <h4 class="mb-1 sfw-normal"><%= dataj.location.name + ", " + dataj.location.country%></h4>
                        <p class="mb-2">Current temperature: <strong><%= dataj.current.temp_f %>ºF</strong></p>
                        <p>Localtime: <strong><%= dataj.location.localtime %></strong></p>
                        <p>Max: <strong><%= dataj.forecast.forecastday[0].day.maxtemp_f %>ºF</strong>, Min: <strong><%= dataj.forecast.forecastday[0].day.mintemp_f %>°F</strong></p>
                        <p>Wind: <strong><%= dataj.current.wind_kph %> km/h</strong></p>
                        <p>UV Index: <strong><%= dataj.current.uv %></strong></p>
            
                        <div class="d-flex flex-row align-items-center flex-wrap">
                          <p class="mb-0 me-4"><%= dataj.current.condition.text%></p>
                          <img src="<%= `https:${dataj.current.condition.icon}`%>"  alt="" class="icon">
                        </div>
            
                      </div>
                <%}%>
                
              </div>
              <%}%>
      
            </div>
          </div>
      
        </div>
      </section>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
<script>
</script>
</html>